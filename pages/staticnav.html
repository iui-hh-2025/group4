<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Normal Page</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <nav class="top-nav sticky">
    <ul class="nav-list">
      <li><a href="sidescroll.html">Side Scroll</a></li>
      <li><a href="topscroll.html">Top Scroll</a></li>
      <li><a href="staticnav.html">Normal Page</a></li>
    </ul>
  </nav>
  <main class="content grid-layout">
    <section>
      <h2>Welcome to the Traditional Page</h2>
      <p>This page is meant to showcase the "normal" route of structuring pages. Users would click the links at the top to navigate to page 1-5, instead of scrolling.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur et dapibus risus. Vestibulum ante ipsum primis in faucibus.</p>
    </section>
    <section>
      <h3>Page Feature: Modal</h3>
      <div class="modal-box">Use this modal area to break up content visually.</div>
    </section>
    <section>
      <h3>Page Feature: Grid Layout</h3>
      <div class="grid-box">
        <div class="grid-item">Left-aligned text block.</div>
        <div class="grid-item">Right-aligned text block.</div>
      </div>
    </section>
    <section>
      <h3>Page Feature: Floating Quote</h3>
      <blockquote class="side-quote">"Quote floated to enhance storytelling impact."</blockquote>
    </section>
    <section>
      <h3>Page Feature: Side-by-Side Comparison</h3>
      <div class="grid-box">
        <div class="grid-item">
          <h4>Layout A</h4>
          <p>This layout uses vertical flow and large sections to guide the user.</p>
        </div>
        <div class="grid-item">
          <h4>Layout B</h4>
          <p>This layout is modular and ideal for dense, segmented content.</p>
        </div>
      </div>
    </section>
    <section>
      <h3>Page Feature: Highlight Banner</h3>
      <div class="highlight-banner">
        ⚠️ Reminder: All layouts should be responsive and accessible.
      </div>
    </section>
    <section>
      <h3>Poll: Which do you prefer?</h3>
      <div class="poll-card">
        <form class="poll-form" id="pollForm">
          <p class="poll-question">Which layout do you prefer?</p>
          <label><input type="radio" name="vote" value="side" required /> Side nav</label>
          <label><input type="radio" name="vote" value="top" required /> Top nav</label>
          <label><input type="radio" name="vote" value="normal" required /> Normal page</label>
          <label><input type="radio" name="vote" value="none" required /> No preference</label>
          <button type="submit" class="poll-button">Submit</button>
        </form>
        <div class="poll-results" id="pollResults" style="display:none;">
          <div class="success-msg">✔ Submitted successfully!</div>
          <p>Thanks for voting! Here's how others responded:</p>
          <div class="poll-bar"><div class="poll-fill" id="bar-side"></div> Side nav</div>
          <div class="poll-bar"><div class="poll-fill" id="bar-top"></div> Top nav</div>
          <div class="poll-bar"><div class="poll-fill" id="bar-normal"></div> Normal page</div>
          <div class="poll-bar"><div class="poll-fill" id="bar-none"></div> No preference</div>
        </div>
      </div>
    </section>
  </main>
  <script>
    const form = document.getElementById("pollForm");
    const results = document.getElementById("pollResults");
    const bars = {
      side: document.getElementById("bar-side"),
      top: document.getElementById("bar-top"),
      normal: document.getElementById("bar-normal"),
      none: document.getElementById("bar-none")
    };

    let votes = JSON.parse(localStorage.getItem("pollVotes")) || {
      side: 0,
      top: 0,
      normal: 0,
      none: 0
    };

    let hasVoted = localStorage.getItem("pollVoted") === "true";

    function displayResults() {
      const total = Object.values(votes).reduce((a, b) => a + b, 0);
      for (const key in bars) {
        const percent = total > 0 ? (votes[key] / total) * 100 : 0;
        bars[key].style.width = percent + "%";
        bars[key].textContent = Math.round(percent) + "%";
      }
      form.style.display = "none";
      results.style.display = "block";
    }

    if (hasVoted) {
      displayResults();
    }

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      const choice = form.vote.value;
      if (!choice) return;

      votes[choice]++;
      localStorage.setItem("pollVotes", JSON.stringify(votes));
      localStorage.setItem("pollVoted", "true");
      displayResults();
    });
  </script>
</body>
</html>
